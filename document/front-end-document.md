# Hedy Shop线上购物平台(秒杀系统)说明文档——前端

## 简介

​		本项目实现了一个线上购物平台，面向买家和卖家。买家可以在系统中购买和秒杀物品，购买物品会直接返回结果，秒杀则会生成秒杀订单，记录秒杀结果。另外买家还可以在系统中充值。卖家则可以对商品的名称、价格、库存、描述、种类等进行编辑，还可以查看所有的秒杀订单。秒杀机制为当商品的库存余量小于100时购买功能自动变为秒杀功能。卖家和买家无法查看对方的界面，也无法触及对方的功能，前后端都有身份验证相关的机制。另外系统还使用了token实现3天免登陆的功能。

## 系统功能展示

- 登录

  - 登录页面

    ![image-20210111182733370](./img/登录页面.png)

  - 登录失败

    ![image-20210111183022836](./img/登录失败.png)

  - 登录成功 (卖家)(直接跳转)

    ![image-20210111183204981](./img/卖家界面.png)

- 卖家功能

  - 切换菜单

    ![image-20210111183505641](./img/运动器材-卖家视角.png)

  - 修改商品

    ![image-20210111183646263](./img/修改商品.png)

    ![image-20210111183759605](./img/修改成功.png)

  - 删除商品

    ![image-20210111183936272](./img/删除成功.png)

  - 添加商品

    ![image-20210111184137029](./img/添加商品.png)

    ![image-20210111184241242](./img/添加成功.png)

  - 查看个人资料（在右上角切换界面到User）

    ![image-20210111184442601](./img/查看卖家资料.png)

  - 查看所有秒杀订单

    ![image-20210111184731469](./img/秒杀订单-卖家.png)

  - 删除秒杀订单

    ![image-20210111185355093](./img/删除秒杀订单.png)

  - 退出登录

    ![image-20210111185529299](./img/退出登录.png)

- 买家功能

  - 购买商品(还有充值)

    ![image-20210111185856874](./img/购买商品.png)

    ![image-20210111185921145](./img/余额不足.png)

    前往充值

    ![image-20210111190052014](./img/充值前.png)

    ![image-20210111190125975](./img/充值后.png)

    再次购买

    ![image-20210111190230888](./img/购买确认.png)

    ![image-20210111190301274](./img/购买成功.png)

    查看余额

    ![image-20210111190339086](./img/查看余额.png)

  - 秒杀商品(当商品数量小于100时自动变为秒杀)(包含查看秒杀订单)

    ![image-20210111190513782](./img/秒杀确定.png)

    ![image-20210111190540142](./img/秒杀成功.png)

    查看秒杀订单(买家只能看自己的订单)

    ![image-20210111190748392](./img/查看订单-买家.png)

  - 其余功能包括：退出登录，切换菜单，删除订单记录等与卖家相同，这里不做展示。

## 前端实现

- 前端架构

  前端使用了vue架构，运行在node.js中。

  ![image-20210111192209164](./img/前端架构.png)

  assets目录中是一些css文件和图片资源。

  components中是一些可以复用的vue组件。

  network中是所有和网络请求有关的函数。

  router中是路由配置。

  store中是集中数据存储和处理的逻辑。

  views中是各种视图页面。

  App.vue是前端的入口，可以看到这里只动态显示一个header和footer，中间的主体部分由路由决定。

  ![image-20210111192545454](./img/APP-vue.png)

- views

  ![image-20210111192805946](./img/views.png)

  ![image-20210111192859289](./img/views2.png)

  views中主要有4个大的视图，分别是login，manage，shop和user对应登录界面，卖家界面，买家界面和用户界面。login界面打开时会自动判断本地是否有token，如果有token则自动发送登录认证请求。其余三个界面打开时会自动发送请求获取目录表项。

- router

  ![image-20210111193239244](./img/router.png)

  ![image-20210111193340851](./img/router拦截器.png)

  router中配置了路由，并且有拦截器函数。login页面访问不需要查看身份，访问其余页面则需要验证身份，如果没有登录自动跳转到login，如果卖家想访问买家界面则自动跳转到卖家界面等。

- store

  ![image-20210111193707854](./img/store.png)

  ![image-20210111193740869](./img/store2.png)

  store中存储了一些目录表象，商品信息，用户信息等操作，以及对其的同步和异步操作。

- network

  ![image-20210111194132941](./img/network.png)

  ![image-20210111194109199](./img/network2.png)

  network中是所有和网络请求相关的操作，全部使用axios进行请求。另外还包括对token的处理，包括使用localStore存储token，每个请求都要在header中加入token，如果服务器返回认证错误或者token过期还要删除本地token。

